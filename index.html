<!doctype html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/icon.svg" />
    <link rel="apple-touch-icon" href="/icon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json" />
    <meta name="theme-color" content="#ffd700" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="Sem Panela FC" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="msapplication-TileColor" content="#ffd700" />
    <meta name="msapplication-tap-highlight" content="no" />
    <title>Sem Panela FC - Montador de Times de Futebol Inteligente</title>
    <meta name="description"
        content="Sem Panela FC - O melhor sistema para montar times de futebol balanceados. Crie escalaÃ§Ãµes equilibradas, importe listas do WhatsApp e organize suas peladas sem panelinha!" />
    <meta name="keywords"
        content="sem panela fc, futebol, times, escalaÃ§Ã£o, jogadores, montador de times, futebol amador, pelada, sem panelinha, balanceamento" />

    <!-- Open Graph para redes sociais -->
    <meta property="og:title" content="Sem Panela FC - Montador de Times de Futebol" />
    <meta property="og:description"
        content="Sistema inteligente para montar times de futebol balanceados. Organize suas peladas sem panelinha!" />
    <meta property="og:url" content="https://sem-panela-fc.vercel.app/" />
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="Sem Panela FC" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Sem Panela FC - Montador de Times de Futebol" />
    <meta name="twitter:description"
        content="Sistema inteligente para montar times de futebol balanceados. Organize suas peladas sem panelinha!" />

    <!-- Canonical URL -->
    <link rel="canonical" href="https://sem-panela-fc.vercel.app/" />

    <!-- Google Search Console Verification -->
    <meta name="google-site-verification" content="sem-panela-fc-verification-code" />

    <!-- Additional SEO Meta Tags -->
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
    <meta name="author" content="Yasuhei Cristiano Nakamura - Desenvolvedor Full Stack" />
    <meta name="developer"
        content="Sistema desenvolvido por Yasuhei Cristiano Nakamura, especialista em React, TypeScript e algoritmos de balanceamento" />
    <meta name="language" content="pt-BR" />
    <meta name="geo.region" content="BR" />
    <meta name="geo.country" content="Brazil" />

    <!-- Schema.org Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Sem Panela FC",
        "alternateName": ["Sem Panela Futebol Clube", "Montador de Times", "Organizador de Peladas"],
        "description": "Sistema inteligente para montar times de futebol balanceados. Organize suas peladas sem panelinha com o Sem Panela FC.",
        "url": "https://sem-panela-fc.vercel.app/",
        "applicationCategory": "SportsApplication",
        "operatingSystem": "Web Browser",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "BRL"
        },
        "author": {
            "@type": "Person",
            "name": "Yasuhei Cristiano Nakamura",
            "description": "Desenvolvedor Full Stack especialista em React, TypeScript, algoritmos de balanceamento e sistemas web modernos",
            "knowsAbout": ["React", "TypeScript", "Algoritmos", "Desenvolvimento Web", "UX/UI Design", "JavaScript", "Node.js"]
        },
        "publisher": {
            "@type": "Organization",
            "name": "Sem Panela FC",
            "url": "https://sem-panela-fc.vercel.app/"
        },
        "keywords": "sem panela fc, futebol, times, escalaÃ§Ã£o, pelada, montador de times, futebol amador, organizador peladas",
        "inLanguage": "pt-BR",
        "isAccessibleForFree": true,
        "browserRequirements": "Requires JavaScript. Requires HTML5.",
        "softwareVersion": "2.0",
        "datePublished": "2026-01-20",
        "dateModified": "2026-01-20"
    }
    </script>

    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6004139707069726"
        crossorigin="anonymous"></script>
</head>

<body>
    <div id="root"></div>

    <!-- AnÃºncio de teste para verificaÃ§Ã£o do AdSense -->
    <div style="text-align: center; margin: 10px 0;">
        <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-6004139707069726"
            data-ad-slot="1234567890" data-ad-format="auto" data-full-width-responsive="true"></ins>
        <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
    </div>

    <script type="module" src="/src/main.tsx"></script>

    <!-- PWA Service Worker -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then((registration) => {
                        console.log('SW registrado com sucesso: ', registration);

                        // Verificar se hÃ¡ atualizaÃ§Ãµes
                        registration.addEventListener('updatefound', () => {
                            const newWorker = registration.installing;
                            newWorker.addEventListener('statechange', () => {
                                if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                                    // Nova versÃ£o disponÃ­vel
                                    if (confirm('Nova versÃ£o disponÃ­vel! Deseja atualizar?')) {
                                        window.location.reload();
                                    }
                                }
                            });
                        });
                    })
                    .catch((error) => {
                        console.log('Falha ao registrar SW: ', error);
                    });
            });
        }

        // Detectar se pode ser instalado como PWA
        let deferredPrompt;
        let isInstalled = false;

        // Verificar se jÃ¡ estÃ¡ instalado
        window.addEventListener('DOMContentLoaded', () => {
            // Verificar localStorage primeiro
            if (localStorage.getItem('pwa-installed') === 'true') {
                isInstalled = true;
                console.log('âœ… PWA marcado como instalado no localStorage');
                return;
            }

            // Detectar se estÃ¡ rodando como PWA instalado
            if (window.matchMedia('(display-mode: standalone)').matches ||
                window.navigator.standalone === true ||
                document.referrer.includes('android-app://')) {
                isInstalled = true;
                localStorage.setItem('pwa-installed', 'true');
                console.log('âœ… PWA jÃ¡ estÃ¡ instalado - nÃ£o mostrar botÃ£o');
            }
        });

        window.addEventListener('beforeinstallprompt', (e) => {
            console.log('ðŸ’¡ PWA pode ser instalado');
            e.preventDefault();
            deferredPrompt = e;

            // SÃ³ mostrar se nÃ£o estiver instalado
            if (!isInstalled) {
                showInstallButton();
            }
        });

        function showInstallButton() {
            // NÃ£o mostrar se jÃ¡ estiver instalado
            if (isInstalled) {
                console.log('âš ï¸ PWA jÃ¡ instalado - nÃ£o mostrar botÃ£o');
                return;
            }

            // Criar botÃ£o de instalaÃ§Ã£o
            const installButton = document.createElement('button');
            installButton.setAttribute('data-pwa-install', 'true');
            installButton.innerHTML = 'ðŸ“± INSTALAR APP';
            installButton.style.cssText = `
                position: fixed;
                bottom: 20px;
                right: 20px;
                background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
                color: white;
                border: none;
                padding: 15px 25px;
                border-radius: 30px;
                font-weight: bold;
                font-size: 14px;
                cursor: pointer;
                z-index: 9999;
                box-shadow: 0 8px 25px rgba(0,0,0,0.3);
                transition: all 0.3s ease;
                font-family: 'Inter', Arial, sans-serif;
                text-transform: uppercase;
                letter-spacing: 1px;
                backdrop-filter: blur(10px);
                border: 1px solid rgba(255,255,255,0.1);
            `;

            installButton.addEventListener('mouseover', () => {
                installButton.style.background = 'linear-gradient(135deg, #2d2d2d 0%, #404040 100%)';
                installButton.style.transform = 'translateY(-3px) scale(1.05)';
                installButton.style.boxShadow = '0 12px 35px rgba(0,0,0,0.4)';
            });

            installButton.addEventListener('mouseout', () => {
                installButton.style.background = 'linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%)';
                installButton.style.transform = 'translateY(0) scale(1)';
                installButton.style.boxShadow = '0 8px 25px rgba(0,0,0,0.3)';
            });

            installButton.addEventListener('click', async () => {
                if (deferredPrompt) {
                    deferredPrompt.prompt();
                    const { outcome } = await deferredPrompt.userChoice;
                    console.log(`âœ… UsuÃ¡rio ${outcome} a instalaÃ§Ã£o`);
                    deferredPrompt = null;
                    installButton.remove();

                    if (outcome === 'accepted') {
                        isInstalled = true;
                        localStorage.setItem('pwa-installed', 'true');
                        showSuccessMessage();
                    }
                } else {
                    // Fallback para navegadores que nÃ£o suportam PWA nativo
                    alert('ðŸ“± Para instalar este app:\n\nâ€¢ Chrome/Edge: Use o menu "Instalar app"\nâ€¢ Safari iOS: Toque "Compartilhar" â†’ "Adicionar Ã  Tela Inicial"\nâ€¢ Firefox: Use "Adicionar Ã  tela inicial"');
                }
            });

            document.body.appendChild(installButton);

            // Remover botÃ£o apÃ³s 15 segundos se nÃ£o clicado
            setTimeout(() => {
                if (installButton.parentNode && !isInstalled) {
                    installButton.style.opacity = '0';
                    installButton.style.transform = 'translateY(10px) scale(0.9)';
                    setTimeout(() => installButton.remove(), 300);
                }
            }, 15000);
        }

        function showSuccessMessage() {
            const message = document.createElement('div');
            message.innerHTML = 'ðŸŽ‰ App instalado com sucesso!';
            message.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
                color: white;
                padding: 15px 25px;
                border-radius: 10px;
                font-weight: bold;
                z-index: 9999;
                box-shadow: 0 8px 25px rgba(34,197,94,0.3);
                font-family: 'Inter', Arial, sans-serif;
                animation: slideIn 0.3s ease;
            `;

            document.body.appendChild(message);

            setTimeout(() => {
                message.style.opacity = '0';
                message.style.transform = 'translateX(100px)';
                setTimeout(() => message.remove(), 300);
            }, 3000);
        }

        // Detectar quando foi instalado
        window.addEventListener('appinstalled', (evt) => {
            console.log('ðŸŽ‰ PWA foi instalado com sucesso!');
            isInstalled = true;
            localStorage.setItem('pwa-installed', 'true');
            showSuccessMessage();

            // Remover qualquer botÃ£o de instalaÃ§Ã£o existente
            const existingButton = document.querySelector('button[data-pwa-install]');
            if (existingButton) {
                existingButton.remove();
            }
        });

        // Fallback: Se PWA nÃ£o for detectado automaticamente, mostrar botÃ£o apÃ³s 5 segundos
        setTimeout(() => {
            // SÃ³ mostrar se nÃ£o estiver instalado e nÃ£o houver botÃ£o jÃ¡
            if (!document.querySelector('button[data-pwa-install]') && !deferredPrompt && !isInstalled) {
                console.log('ðŸ’¡ Mostrando botÃ£o de instalaÃ§Ã£o como fallback...');
                showInstallButton();
            }
        }, 5000);

        // DEBUG: Adicionar botÃ£o para resetar estado PWA (apenas em desenvolvimento)
        if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
            setTimeout(() => {
                const resetButton = document.createElement('button');
                resetButton.innerHTML = 'ðŸ”„ RESET PWA';
                resetButton.style.cssText = `
                    position: fixed;
                    bottom: 80px;
                    right: 20px;
                    background: #dc2626;
                    color: white;
                    border: none;
                    padding: 10px 15px;
                    border-radius: 20px;
                    font-size: 12px;
                    cursor: pointer;
                    z-index: 9998;
                    opacity: 0.7;
                `;

                resetButton.addEventListener('click', () => {
                    localStorage.removeItem('pwa-installed');
                    isInstalled = false;
                    console.log('ðŸ”„ Estado PWA resetado');
                    window.location.reload();
                });

                document.body.appendChild(resetButton);
            }, 1000);
        }
    </script>
</body>

</html>